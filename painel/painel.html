<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Painel â€“ DanBurgers</title>

  <link rel="stylesheet" href="../css/style.css">
</head>

<body>

  <h1>ğŸ“Š Painel DanBurgers</h1>

  <!-- ABAS -->
  <div style="display:flex; gap:10px; margin-bottom:15px;">
    <button onclick="mostrarDelivery()">ğŸ“¦ Delivery</button>
    <button onclick="mostrarMesas()">ğŸ½ï¸ Mesas</button>
    <button onclick="mostrarCaixa()">ğŸ’° Caixa</button>
    <button onclick="mostrarHistorico()">ğŸ“ HistÃ³rico</button>
  </div>

  <!-- DELIVERY -->
  <section id="aba-delivery">
    <h2>Pedidos Delivery</h2>
    <div id="lista-pedidos"></div>
  </section>

  <!-- MESAS -->
  <section id="aba-mesas" style="display:none">
    <h2>Comandas das Mesas</h2>
    <div id="lista-comandas"></div>
  </section>

  <!-- CAIXA -->
  <section id="aba-caixa" style="display:none">
    <h2>ğŸ’° Caixa</h2>

    <div id="abrir-caixa">
      <h3>Abertura de Caixa</h3>
      <input type="number" id="valor-inicial" placeholder="Valor inicial" />
      <button onclick="abrirCaixa()">Abrir Caixa</button>
    </div>

    <div id="caixa-aberto" style="display:none">
      <p>Valor inicial: R$ <span id="valorInicial">0.00</span></p>

      <hr />

      <h3>Totais do dia</h3>
      <p>Entradas: R$ <span id="totalEntradas">0.00</span></p>
      <p>SaÃ­das: R$ <span id="totalSaidas">0.00</span></p>

      <hr />

      <h3>Resumo por pagamento</h3>
      <p>Dinheiro: R$ <span id="totalDinheiro">0.00</span></p>
      <p>Pix: R$ <span id="totalPix">0.00</span></p>
      <p>CartÃ£o: R$ <span id="totalCartao">0.00</span></p>
      <p>Troco: R$ <span id="totalTroco">0.00</span></p>

      <hr />

      <h3>Adicionar despesa</h3>
      <input type="text" id="descricao-despesa" placeholder="DescriÃ§Ã£o" />
      <input type="number" id="valor-despesa" placeholder="Valor" />
      <button onclick="adicionarDespesa()">Adicionar</button>

      <hr />

      <button onclick="fecharCaixa()">Fechar Caixa</button>
    </div>
  </section>

  <!-- HISTÃ“RICO DE CAIXA -->
  <section id="aba-historico" style="display:none">
    <h2>ğŸ“ HistÃ³rico de Caixa</h2>
    <div id="lista-historico">
      <p>Carregando histÃ³rico...</p>
    </div>
  </section>

  <div id="area-impressao"></div>

  <!-- JS DAS ABAS -->
  <script>
    function esconderTodas() {
      document.getElementById("aba-delivery").style.display = "none";
      document.getElementById("aba-mesas").style.display = "none";
      document.getElementById("aba-caixa").style.display = "none";
      document.getElementById("aba-historico").style.display = "none";
    }

    function mostrarDelivery() {
      esconderTodas();
      document.getElementById("aba-delivery").style.display = "block";
    }

    function mostrarMesas() {
      esconderTodas();
      document.getElementById("aba-mesas").style.display = "block";
    }

    function mostrarCaixa() {
      esconderTodas();
      document.getElementById("aba-caixa").style.display = "block";
    }

    window.mostrarHistorico = function () {
      esconderTodas();
      document.getElementById("aba-historico").style.display = "block";
      if (typeof carregarHistoricoCaixa === "function") {
        carregarHistoricoCaixa();
      }
    };
  </script>

  <!-- FLAG GLOBAL -->
  <script>
    window.modalFinalizacaoAberto = false;
  </script>

  <!-- MODAL FINALIZAR VENDA -->
  <!-- (MANTIDO EXATAMENTE COMO VOCÃŠ ENVIOU) -->

  <!-- JS DO PAINEL -->
  <script type="module" src="./painel-delivery.js"></script>
  <script type="module" src="./painel-mesas.js"></script>
  <script type="module" src="./caixa.js"></script>
  <script type="module" src="./painel-historico.js"></script>

</body>
</html>
